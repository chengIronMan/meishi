{"version":3,"sources":["webpack:///./src/views/login/login.vue?962f","webpack:///./src/views/login/login.vue?5190","webpack:///src/views/login/login.vue","webpack:///./src/views/login/login.vue?9e4c","webpack:///./src/views/login/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_m","directives","name","rawName","value","zqd","expression","staticClass","class","input1","attrs","on","$event","model","zqd_deng1","callback","$$v","$set","input2","zqd_zhao","_v","zqd_zhuce","zqd_deng","scopedSlots","_u","key","fn","zqd_fa","zqd_show","ref","proxy","zqd_yan","zqd_duanxindeng","staticRenderFns","yanzheng","mobile","password","type","sms_code","client","methods","data","console","log","msg","localStorage","setItem","remember_token","$router","go","res","test","sms_type","code","$refs","countDown","reset","is_new","push","component"],"mappings":"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","file":"js/chunk-57fd8112.711c5708.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=6da181b2&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.zqd == 0),expression:\"zqd == 0\"}],staticClass:\"zqd_div1\"},[_c('div',[_c('div',{class:_vm.input1 ? 'zqd_active' : ''},[_c('van-field',{attrs:{\"type\":\"tel\",\"label\":\"\",\"placeholder\":\"请输入手机号\"},on:{\"focus\":function($event){_vm.input1 = true},\"blur\":function($event){_vm.input1 = false}},model:{value:(_vm.zqd_deng1.mobile),callback:function ($$v) {_vm.$set(_vm.zqd_deng1, \"mobile\", $$v)},expression:\"zqd_deng1.mobile\"}})],1),_c('div',{class:_vm.input2 ? 'zqd_active' : ''},[_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"\",\"placeholder\":\"请输入密码\"},on:{\"focus\":function($event){_vm.input2 = true},\"blur\":function($event){_vm.input2 = false}},model:{value:(_vm.zqd_deng1.password),callback:function ($$v) {_vm.$set(_vm.zqd_deng1, \"password\", $$v)},expression:\"zqd_deng1.password\"}})],1)]),_c('div',{staticClass:\"sp\"},[_c('span',{staticClass:\"zqd_sp1\",on:{\"click\":_vm.zqd_zhao}},[_vm._v(\"找回密码\")]),_c('span',{staticClass:\"zqd_sp2\",on:{\"click\":_vm.zqd_zhuce}},[_vm._v(\"注册/验证码登录\")])]),_c('van-button',{attrs:{\"type\":\"primary\",\"id\":\"zqd\"},on:{\"click\":function($event){return _vm.zqd_deng()}}},[_vm._v(\"登录\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.zqd == 1),expression:\"zqd == 1\"}],staticClass:\"zqd_div1\"},[_c('div',{class:_vm.input1 ? 'zqd_active' : ''},[_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"label\":\"\",\"placeholder\":\"请输入手机号\"},on:{\"focus\":function($event){_vm.input1 = true},\"blur\":function($event){_vm.input1 = false}},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.zqd_show),expression:\"zqd_show\"}],on:{\"click\":_vm.zqd_fa}},[_vm._v(\"获取验证码\")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.zqd_show),expression:\"!zqd_show\"}],attrs:{\"id\":\"qq\"}},[_c('van-count-down',{ref:\"countDown\",attrs:{\"time\":60*1000,\"format\":\"获取验证码 (ss)\",\"id\":\"qq\"}})],1)]},proxy:true}]),model:{value:(_vm.zqd_yan.mobile),callback:function ($$v) {_vm.$set(_vm.zqd_yan, \"mobile\", $$v)},expression:\"zqd_yan.mobile\"}})],1),_c('div',{class:_vm.input2 ? 'zqd_active' : ''},[_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"\",\"placeholder\":\"请输入短信验证码\"},on:{\"focus\":function($event){_vm.input2 = true},\"blur\":function($event){_vm.input2 = false}},model:{value:(_vm.zqd_yan.sms_code),callback:function ($$v) {_vm.$set(_vm.zqd_yan, \"sms_code\", $$v)},expression:\"zqd_yan.sms_code\"}})],1),_c('div',{staticClass:\"sp\"},[_c('span',{staticClass:\"zqd_sp1\"},[_vm._v(\"*未注册的手机号自动注册\")]),_c('span',{staticClass:\"zqd_sp2\",on:{\"click\":function($event){_vm.zqd = 0}}},[_vm._v(\"使用密码登录\")])]),_c('van-button',{attrs:{\"type\":\"primary\",\"id\":\"zqd\"},on:{\"click\":_vm.zqd_duanxindeng}},[_vm._v(\"登录\")])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zqd_login\"},[_c('img',{attrs:{\"src\":\"https://msmk2019.oss-cn-shanghai.aliyuncs.com/uploads/image/2019pILfAg7Avr1567732916.png\",\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"zqd_login\">\n      <img\n        src=\"https://msmk2019.oss-cn-shanghai.aliyuncs.com/uploads/image/2019pILfAg7Avr1567732916.png\"\n        alt=\"\"\n      />\n    </div>\n    <!-- 帐号密码登录 -->\n    <div v-show=\"zqd == 0\" class=\"zqd_div1\">\n      <div>\n        <!-- 手机号 -->\n        <div :class=\"input1 ? 'zqd_active' : ''\">\n          <van-field\n            v-model=\"zqd_deng1.mobile\"\n            type=\"tel\"\n            label=\"\"\n            placeholder=\"请输入手机号\"\n            @focus=\"input1 = true\"\n            @blur=\"input1 = false\"\n          />\n        </div>\n        <!-- 密码 -->\n        <div :class=\"input2 ? 'zqd_active' : ''\">\n          <van-field\n            v-model=\"zqd_deng1.password\"\n            type=\"password\"\n            label=\"\"\n            placeholder=\"请输入密码\"\n            @focus=\"input2 = true\"\n            @blur=\"input2 = false\"\n          />\n        </div>\n      </div>\n      <div class=\"sp\">\n        <span class=\"zqd_sp1\" @click=\"zqd_zhao\">找回密码</span>\n        <span class=\"zqd_sp2\" @click=\"zqd_zhuce\">注册/验证码登录</span>\n      </div>\n      <!-- 底部按钮 -->\n      <van-button type=\"primary\" id=\"zqd\" @click=\"zqd_deng()\">登录</van-button>\n    </div>\n\n    <!-- 验证码注册登录 -->\n    <div v-show=\"zqd == 1\" class=\"zqd_div1\">\n      <!-- 手机号 -->\n      <div :class=\"input1 ? 'zqd_active' : ''\">\n        <van-field\n          v-model=\"zqd_yan.mobile\"\n          center\n          clearable\n          label=\"\"\n          placeholder=\"请输入手机号\"\n          @focus=\"input1 = true\"\n          @blur=\"input1 = false\"\n        >\n          <template #button>\n            <span @click=\"zqd_fa\" v-show=\"zqd_show\">获取验证码</span>\n\n            <p id=\"qq\" v-show=\"!zqd_show\">\n              <van-count-down  ref=\"countDown\" :time=\"60*1000\" format=\"获取验证码 (ss)\" id=\"qq\" />\n            </p>\n          </template>\n        </van-field>\n      </div>\n      <!-- 验证码 -->\n      <div :class=\"input2 ? 'zqd_active' : ''\">\n        <van-field\n          v-model=\"zqd_yan.sms_code\"\n          type=\"password\"\n          label=\"\"\n          placeholder=\"请输入短信验证码\"\n          @focus=\"input2 = true\"\n          @blur=\"input2 = false\"\n        />\n      </div>\n      <div class=\"sp\">\n        <span class=\"zqd_sp1\">*未注册的手机号自动注册</span>\n        <span class=\"zqd_sp2\" @click=\"zqd = 0\">使用密码登录</span>\n      </div>\n      <!-- 底部按钮 -->\n      <van-button type=\"primary\" id=\"zqd\" @click=\"zqd_duanxindeng\"\n        >登录</van-button\n      >\n    </div>\n    <!-- <van-count-down :time=\"time\" /> -->\n  </div>\n</template>\n\n\n<script>\nimport { posts } from \"@/util/api\";\nimport { Toast } from \"vant\";\nexport default {\n  data() {\n    return {\n      input1: false, //判断input高亮\n      input2: false, //判断input高亮\n      zqd_show: true, //判断验证码一分钟\n      zqd: 0,\n      yanzheng: true,\n      //   登录\n      zqd_deng1: {\n        mobile: \"\",\n        password: \"\",\n        type: 1,\n      },\n      //验证码注册\n      zqd_yan: {\n        mobile: \"\",\n        sms_code: \"\",\n        client: 1,\n        type: 2,\n      },\n    };\n  },\n  created() {\n    // console.log(this.time)\n  },\n  mounted() {},\n  methods: {\n    // 帐号密码登录\n    async zqd_deng() {\n      let { data } = await posts(\"login\", this.zqd_deng1);\n      console.log(data)\n      if (data.msg == \"操作成功\") {\n        localStorage.setItem(\"token\", data.data.remember_token);\n        this.$router.go(-1)\n        // this.$router.push(\"/person\");\n      } else {\n        Toast(\"密码或者手机号有误\");\n      }\n    },\n    //验证码注册登录\n    zqd_zhuce() {\n      this.zqd = 1;\n    },\n    //  发送验证码\n    async zqd_fa() {\n      // console.log('123');\n      let res = /^1[3|4|5|7|8][0-9]{9}$/;\n      if (!res.test(this.zqd_yan.mobile)) {\n        Toast(\"手机号格式不正确\");\n        return false;\n      }\n      let { data } = await posts(\"smsCode\", {\n        mobile: this.zqd_yan.mobile,\n        sms_type: \"login\",\n      });\n      if(data.code==200){\n      this.zqd_show = false;\n      this.$refs.countDown.reset();\n      }\n      console.log(data);\n    },\n    // 短信登\n    async zqd_duanxindeng() {\n      // this.$router.push('/person')\n      let { data } = await posts( \"login\",\n        this.zqd_yan\n      );\n      console.log(data);\n      if (data.msg == \"操作成功\") {\n        localStorage.setItem(\"token\", data.data.remember_token);\n      }\n      if (data.data.is_new == 1) {\n        this.$router.push(\"/new\");\n      } else {\n        this.$router.push(\"/info\");\n      } \n    },\n    //  跳转找回密码\n    zqd_zhao() {\n      this.$router.push(\"/forget-pass\");\n    }, \n  },\n};\n</script>\n\n\n<style scoped lang=\"scss\">\n.zqd_login {\n  width: 100%;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  img {\n    width: 4.7rem;\n    height: 1rem;\n  }\n}\nspan {\n  font-size: 0.24rem;\n  color: #9fa19f;\n}\n.zqd_sp1 {\n  margin-left: 0.3rem;\n}\n.zqd_sp2 {\n  //   margin-left: 4rem;\n  float: right;\n}\n#zqd {\n  width: 6.5rem;\n  height: 1rem;\n  margin-top: 5rem;\n  border-radius: 0.5rem;\n  background: linear-gradient(90deg, #ff9045, #fc5500);\n  color: #fff;\n  font-size: 0.5rem;\n}\n.zqd_div1 {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0.3rem;\n  text-align: center;\n  > div > div {\n    border-bottom: 1px solid #f1f1f1;\n  }\n  .zqd_active {\n    border-bottom: 1px solid #eb6100;\n  }\n  input {\n    width: 100%;\n    height: 0.5rem;\n  }\n}\n.van-field__button {\n  span {\n    color: #eb6100;\n  }\n}\n.sp {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 0.2rem;\n}\n#qq {\n  color: #808080;\n  font-size: 0.12rem;\n  display: inline-block;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=6da181b2&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=6da181b2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6da181b2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}